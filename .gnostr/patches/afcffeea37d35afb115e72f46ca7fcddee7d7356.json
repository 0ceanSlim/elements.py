{"content":"From afcffeea37d35afb115e72f46ca7fcddee7d7356 Mon Sep 17 00:00:00 2001\nFrom: 0ceanSlim <chriskerr@gmx.com>\nDate: Wed, 8 Nov 2023 15:40:42 -0500\nSubject: [PATCH] create wallet now prompts to name it,get address now lists wallets and aks for a selection\n\n---\n createWallet.py |  4 ++--\n getAddress.py   | 39 +++++++++++++++------------------------\n 2 files changed, 17 insertions(+), 26 deletions(-)\n\ndiff --git a/createWallet.py b/createWallet.py\nindex bb589cb..e501a53 100644\n--- a/createWallet.py\n+++ b/createWallet.py\n@@ -10,8 +10,8 @@ rpc_port = config[\"rpc_port\"]\n rpc_user = config[\"rpc_user\"]\n rpc_password = config[\"rpc_password\"]\n \n-# Wallet name to create\n-wallet_name = \"wallet_1\"  # Specify the desired wallet name\n+# Prompt the user for the wallet name\n+wallet_name = input(\"Enter the wallet name to create: \")\n \n try:\n     rpc_connection = AuthServiceProxy(\ndiff --git a/getAddress.py b/getAddress.py\nindex 0ed48d0..6bcd6b1 100644\n--- a/getAddress.py\n+++ b/getAddress.py\n@@ -1,7 +1,7 @@\n from bitcoinrpc.authproxy import AuthServiceProxy, JSONRPCException\n import json\n \n-## Read the RPC configuration from the configuration file\n+# Read the RPC configuration from the configuration file\n with open(\"rpc_config.json\", \"r\") as config_file:\n     config = json.load(config_file)\n \n@@ -21,30 +21,21 @@ try:\n     if not wallet_list:\n         print(\"No wallets found.\")\n     else:\n-        if len(wallet_list) == 1:\n-            # If there's only one wallet, use it\n-            wallet_name = wallet_list[0]\n+        print(\"Available wallets:\")\n+        for i, wallet in enumerate(wallet_list):\n+            print(f\"{i + 1}. {wallet}\")\n+\n+        wallet_index = int(input(\"Enter the number of the wallet to get a new address for: \")) - 1\n+\n+        if 0 <= wallet_index < len(wallet_list):\n+            wallet_name = wallet_list[wallet_index]\n+\n+            # Get a new address for the selected wallet\n+            new_address = rpc_connection.getnewaddress(wallet_name)\n+            print(f\"New receiving address for wallet '{wallet_name}': {new_address}\")\n         else:\n-            # If multiple wallets exist, prompt the user to select one\n-            print(\"Available wallets:\")\n-            for i, wallet in enumerate(wallet_list):\n-                print(f\"{i + 1}. {wallet}\")\n-\n-            wallet_index = (\n-                int(input(\"Enter the number of the wallet to get a new address for: \"))\n-                - 1\n-            )\n-\n-            if 0 <= wallet_index < len(wallet_list):\n-                wallet_name = wallet_list[wallet_index]\n-            else:\n-                print(\"Invalid wallet selection. Exiting.\")\n-                exit()\n-\n-        # Get a new address for the selected wallet\n-        new_address = rpc_connection.getnewaddress(wallet_name)\n-\n-        print(f\"New receiving address for wallet '{wallet_name}': {new_address}\")\n+            print(\"Invalid wallet selection. Exiting.\")\n+            exit()\n \n except JSONRPCException as json_exception:\n     print(\"A JSON RPC Exception occurred: \" + str(json_exception))\n--\nlibgit2 1.6.4\n\n","created_at":1706217663,"id":"707f42661b6ce37602204511a6f0e63f7856dc334caf1bb96b85adca24b02e5e","kind":410,"pubkey":"16f1a0100d4cfffbcc4230e8e0e4290cc5849c1adc64d6653fda07c031b1074b","sig":"f18a091fc7fbd7692cf8967847f50015a28a5cd0e7af3a535bee2d08d033e7e054a001d1e9cbb13bafe2a3c572bb64c0c269294e4b0e627fc367218faabe5949","tags":[["repo","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["e","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["branch","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["e","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["commit-message","create wallet now prompts to name it,get address now lists wallets and aks for a selection\n"],["t","gnostr-event"],["t","gnostr-format-0.0.0"],["commit","afcffeea37d35afb115e72f46ca7fcddee7d7356"],["parent-commit","4983e79036dde0b6d299715a621466cd97c00fb9"],["parent-patch","919188186010727813724f696cfd5edd03a409f11e785d2ab194ccb4aa72f480"],["e","919188186010727813724f696cfd5edd03a409f11e785d2ab194ccb4aa72f480"]]}