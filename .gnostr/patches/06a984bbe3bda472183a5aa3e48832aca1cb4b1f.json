{"content":"From 06a984bbe3bda472183a5aa3e48832aca1cb4b1f Mon Sep 17 00:00:00 2001\nFrom: 0ceanSlim <chriskerr@gmx.com>\nDate: Wed, 8 Nov 2023 16:42:36 -0500\nSubject: [PATCH] added wallet selection to select UTXO\n\n---\n listUTXO.py | 29 +++++++++++++++++------------\n 1 file changed, 17 insertions(+), 12 deletions(-)\n\ndiff --git a/listUTXO.py b/listUTXO.py\nindex 4d7bbaa..aedf100 100644\n--- a/listUTXO.py\n+++ b/listUTXO.py\n@@ -10,12 +10,12 @@ rpc_port = config[\"rpc_port\"]\n rpc_user = config[\"rpc_user\"]\n rpc_password = config[\"rpc_password\"]\n \n+# List available wallets\n try:\n     rpc_connection = AuthServiceProxy(\n         f\"http://{rpc_user}:{rpc_password}@{rpc_host}:{rpc_port}\"\n     )\n \n-    # List available wallets\n     wallet_list = rpc_connection.listwallets()\n \n     if not wallet_list:\n@@ -41,18 +41,23 @@ try:\n                 print(\"Invalid wallet selection. Exiting.\")\n                 exit()\n \n-        # Get the list of transactions for the selected wallet\n-        transactions = rpc_connection.listtransactions(wallet_name)\n+    # Now that wallet_name is defined, proceed with the RPC connection\n+    rpc_connection = AuthServiceProxy(\n+        f\"http://{rpc_user}:{rpc_password}@{rpc_host}:{rpc_port}/wallet/{wallet_name}\"\n+    )\n \n-        if not transactions:\n-            print(f\"No transactions found for wallet '{wallet_name}'.\")\n-        else:\n-            print(f\"Transactions for wallet '{wallet_name}':\")\n-            for transaction in transactions:\n-                print(f\"Transaction ID: {transaction['txid']}\")\n-                print(f\"Category: {transaction['category']}\")\n-                print(f\"Amount: {transaction['amount']} {transaction['asset']}\")\n-                print(f\"Confirmations: {transaction['confirmations']}\\n\")\n+    # Get the list of transactions for the selected wallet\n+    transactions = rpc_connection.listtransactions()\n+\n+    if not transactions:\n+        print(f\"No transactions found for wallet '{wallet_name}'.\")\n+    else:\n+        print(f\"Transactions for wallet '{wallet_name}':\")\n+        for transaction in transactions:\n+            print(f\"Transaction ID: {transaction['txid']}\")\n+            print(f\"Category: {transaction['category']}\")\n+            print(f\"Amount: {transaction['amount']} {transaction['asset']}\")\n+            print(f\"Confirmations: {transaction['confirmations']}\\n\")\n \n except JSONRPCException as json_exception:\n     print(\"A JSON RPC Exception occurred: \" + str(json_exception))\n--\nlibgit2 1.6.4\n\n","created_at":1706217663,"id":"e4917eaa651fffc3ba9ea59b614e2c5ac52672f5eec81016201012bb2882f860","kind":410,"pubkey":"16f1a0100d4cfffbcc4230e8e0e4290cc5849c1adc64d6653fda07c031b1074b","sig":"5504a743d5c685223c86af9b2b0b6bac8107ab3d8c6422d15ea85d412039085cfd8b0196740beb0c5e3afa0befe4ef431ac0922e3e510657f722229f28c11df1","tags":[["repo","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["e","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["branch","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["e","81955cad0ffa00edf912e972699f7f130d372957f2fb4de66fdf7011a623712b"],["commit-message","added wallet selection to select UTXO\n"],["t","gnostr-event"],["t","gnostr-format-0.0.0"],["commit","06a984bbe3bda472183a5aa3e48832aca1cb4b1f"],["parent-commit","afcffeea37d35afb115e72f46ca7fcddee7d7356"],["parent-patch","707f42661b6ce37602204511a6f0e63f7856dc334caf1bb96b85adca24b02e5e"],["e","707f42661b6ce37602204511a6f0e63f7856dc334caf1bb96b85adca24b02e5e"]]}