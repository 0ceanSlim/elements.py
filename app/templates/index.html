<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="../static/style/output.css" />
    <title>Create Wallet</title>
</head>
<body class="font-mono text-white bg-neutral-800">
    <h1 class="mb-4 ml-4 text-xl font-bold">Create a New Wallet</h1>
    <form id="walletForm">
        <label for="walletName" class="ml-4">Wallet Name:</label>
        <input type="text" id="walletName" class="text-black rounded-sm" name="walletName" required><br><br>
        
        <label for="seedLength" class="ml-4">Choose Seed Phrase Length:</label>
        <select id="seedLength" class="text-black rounded-sm" name="seedLength">
            <option value="12">12 Words</option>
            <option value="24">24 Words</option>
        </select><br><br>
        
        <button type="submit" class="p-2 ml-4 font-bold bg-green-600 rounded-sm hover:bg-green-800">Create Wallet</button>
    </form>

    <div id="result" class="p-2 ml-4"></div>

    <!-- Add your JavaScript code here -->
    <script>
        document.getElementById('walletForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const form = event.target;
            const formData = new FormData(form);

            fetch('/create_wallet', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML = data.message;
            })
            .catch(error => {
                console.error('Error:', error);
            });
        });
    </script>

    <h1 class="mt-6 mb-4 ml-2 text-xl font-bold">RPC Configuration</h1>
<form id="rpcConfigForm">
    <label for="rpcHost" class="ml-2">RPC Host:</label>
    <input type="text" id="rpcHost" name="rpcHost" class="text-black rounded-sm" required><br><br>

    <label for="rpcPort" class="ml-2">RPC Port:</label>
    <input type="text" id="rpcPort" name="rpcPort" class="text-black rounded-sm" required><br><br>

    <label for="rpcUser" class="ml-2">RPC User:</label>
    <input type="text" id="rpcUser" name="rpcUser" class="text-black rounded-sm" required><br><br>

    <label for="rpcPassword" class="ml-2">RPC Password:</label>
    <input type="password" id="rpcPassword" name="rpcPassword" class="text-black rounded-sm" required><br><br>

    <button type="submit" class="p-2 ml-2 font-bold bg-red-600 rounded-sm hover:bg-red-900">Save Configuration</button>
</form>

<div id="rpcResult"></div>

<!-- Add your JavaScript code here -->
<script>
    // Fetch the current RPC configuration on page load
    fetch('/get_rpc_config')
    .then(response => response.json())
    .then(data => {
        document.getElementById('rpcHost').value = data.rpcHost;
        document.getElementById('rpcPort').value = data.rpcPort;
        document.getElementById('rpcUser').value = data.rpcUser;
        document.getElementById('rpcPassword').value = data.rpcPassword;
    })
    .catch(error => {
        console.error('Error:', error);
    });

    document.getElementById('rpcConfigForm').addEventListener('submit', function(event) {
        event.preventDefault();
        const form = event.target;
        const formData = new FormData(form);

        fetch('/update_rpc_config', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            document.getElementById('rpcResult').innerHTML = data.message;
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
</script>
</body>
</html>
